---
interface Props {
    title: string;
    description: string;
    link?: string;
    date: string;
    company: string;
}

const { title, description, link, date, company } = Astro.props;
---

<div
    class="relative mx-4 pb-8 group transition-all duration-500 ease-in-out hover:scale-[1.02]
    before:absolute before:left-[-35px] before:block before:h-full before:w-0.5
    before:bg-gradient-to-b before:from-accentLime/20 before:via-accentLime/60 before:to-accentLime/20
    before:content-[''] before:rounded-full
    md:mx-12 md:pb-12 md:grid md:grid-cols-5 md:gap-8"
>
    <!-- Timeline dot with glow effect -->
    <div
        class="absolute -left-[42px] top-2 w-4 h-4 bg-gradient-to-r from-accentLime to-green-400
        rounded-full shadow-lg shadow-accentLime/30 border-2 border-white/20
        group-hover:shadow-accentLime/60 group-hover:scale-110 transition-all duration-300
        before:absolute before:inset-0 before:rounded-full before:bg-accentLime/20
        before:animate-ping before:opacity-0 group-hover:before:opacity-100"
    >
    </div>

    <!-- Left side - Job info -->
    <div class="relative pb-8 md:col-span-2 md:pb-0">
        <div class="sticky top-4">
            <!-- Job Title -->
            <h3 class="text-xl md:text-2xl font-bold bg-gradient-to-r from-accentLime to-green-400
                bg-clip-text text-transparent mb-2 leading-tight">
                {title}
            </h3>

            <!-- Company Name -->
            <h4 class="font-semibold text-lg md:text-xl text-gray-700 dark:text-gray-200 mb-3
                group-hover:text-gray-900 dark:group-hover:text-white transition-colors duration-300">
                {company}
            </h4>

            <!-- Date with modern styling -->
            <time class="inline-flex items-center px-3 py-1 text-sm font-medium
                bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700
                text-gray-600 dark:text-gray-300 rounded-full border border-gray-200 dark:border-gray-600
                shadow-sm hover:shadow-md transition-all duration-300">
                <svg class="w-4 h-4 mr-2 opacity-60" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path>
                </svg>
                {date}
            </time>
        </div>
    </div>

    <!-- Right side - Description and link -->
    <div class="relative flex flex-col gap-4 md:col-span-3">
        <!-- Modern card container -->
        <div class="relative p-6 rounded-2xl bg-gradient-to-br from-white/5 to-white/10
            dark:from-gray-800/30 dark:to-gray-900/30 backdrop-blur-sm border border-white/10
            dark:border-gray-700/50 shadow-xl shadow-black/5 dark:shadow-black/20
            group-hover:shadow-2xl group-hover:shadow-black/10 dark:group-hover:shadow-black/30
            group-hover:border-accentLime/20 transition-all duration-500">

            <!-- Subtle gradient overlay -->
            <div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-accentLime/5 to-transparent opacity-0
                group-hover:opacity-100 transition-opacity duration-500"></div>

            <!-- Description -->
            <div class="relative z-10 mb-4 text-base leading-relaxed text-gray-700 dark:text-gray-300
                group-hover:text-gray-900 dark:group-hover:text-gray-100 transition-colors duration-300"
                title={description.length > 150 ? description : undefined}>
                {
                    description.length > 150
                        ? `${description.substring(0, 150)}...`
                        : description
                }
            </div>

            <!-- Modern link button -->
            {
                link && (
                    <a
                        href={link}
                        class="relative inline-flex items-center px-6 py-3 text-sm font-semibold
                        bg-gradient-to-r from-accentLime/90 to-green-500/90 text-white rounded-xl
                        shadow-lg shadow-accentLime/25 border border-accentLime/30
                        hover:from-accentLime hover:to-green-500 hover:shadow-xl hover:shadow-accentLime/40
                        hover:scale-105 focus:outline-none focus:ring-4 focus:ring-accentLime/30
                        transform transition-all duration-300 ease-out group/btn overflow-hidden"
                    >
                        <!-- Button shimmer effect -->
                        <div class="absolute inset-0 -top-px bg-gradient-to-r from-transparent via-white/20 to-transparent
                            -skew-x-12 -translate-x-full group-hover/btn:animate-[shimmer_0.6s_ease-out] opacity-0 group-hover/btn:opacity-100"></div>

                        <span class="relative z-10 mr-2">Learn More</span>

                        <!-- Animated arrow -->
                        <svg
                            class="relative z-10 w-4 h-4 transition-transform duration-300 group-hover/btn:translate-x-1"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M17 8l4 4m0 0l-4 4m4-4H3"
                            />
                        </svg>
                    </a>
                )
            }
        </div>
    </div>
</div>

<style>
    @keyframes shimmer {
        100% {
            transform: translateX(100%) skewX(-12deg);
        }
    }
</style>
